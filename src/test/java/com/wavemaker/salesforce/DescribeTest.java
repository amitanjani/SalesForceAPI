package com.wavemaker.salesforce;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

import com.wavemaker.salesforce.util.ResourceLoader;

public class DescribeTest {

	static ForceApi api = new ForceApi(new ApiConfig()
		.setUsername(ResourceLoader.get("username"))
		.setPassword(ResourceLoader.get("password"))
		.setClientId(ResourceLoader.get("clientId"))
		.setClientSecret(ResourceLoader.get("clientSecret")));
	
	
	/*@Test
	public void testDeleteAccount() {
		String[] ids= {"0019000000wJI6WAAW","0019000000wJHDBAA4","0019000000wJHfLAAW","0019000000wJHloAAG","0019000000wJHLlAAO","0019000000wJHnoAAG","0019000000wJHDeAAO","0019000000wJHEuAAO","0019000000wJHEvAAO","0019000000wJHo5AAG","0019000000wJHo6AAG","0019000000wJHw2AAG","0019000000wJHBHAA4","0019000000wJHLRAA4","0019000000wJHuuAAG","0019000000wJHqVAAW","0019000000wJHviAAG","0019000000wJHx0AAG","0019000000wJHx5AAG","0019000000wJHsuAAG","0019000000wJHPmAAO","0019000000wJHmCAAW","0019000000wJHYUAA4","0019000000wJHYVAA4","0019000000wJHYWAA4","0019000000wJI96AAG","0019000000wJHOFAA4","0019000000wJHDrAAO","0019000000wJHJmAAO","0019000000wJHDmAAO","0019000000wJHTFAA4","0019000000wJHDnAAO","0019000000wJHYFAA4","0019000000wJHDoAAO","0019000000wJHDpAAO","0019000000wJHb9AAG","0019000000wJHc7AAG","0019000000wJHc8AAG","0019000000wJHf6AAG","0019000000wJHq9AAG","0019000000wJHMxAAO","0019000000wJHMyAAO","0019000000wJHYeAAO","0019000000wJHYfAAO","0019000000wJHYgAAO","0019000000wJHbJAAW","0019000000wJHqWAAW","0019000000wJHNlAAO","0019000000wJHNmAAO","0019000000wJHZXAA4","0019000000wJHAOAA4","0019000000wJHZYAA4","0019000000wJHPIAA4","0019000000wJHaQAAW","0019000000wJHaRAAW","0019000000wJHyrAAG","0019000000wJHysAAG","0019000000wJHQkAAO","0019000000wJHQlAAO","0019000000wJHQmAAO","0019000000wJHQnAAO","0019000000wJHiyAAG","0019000000wJI7FAAW","0019000000wJH2NAAW","0019000000wJHYjAAO","0019000000wJHYkAAO","0019000000wJHohAAG","0019000000wJHoiAAG","0019000000wJI4VAAW","0019000000wJHifAAG","0019000000wJGntAAG","0019000000wJGnuAAG","0019000000wJHQBAA4","0019000000wJHQCAA4","0019000000wJHQDAA4","0019000000wJHQEAA4","0019000000wJHeSAAW","0019000000wJHhCAAW","0019000000wJHRdAAO","0019000000wJHM0AAO","0019000000wJHM1AAO","0019000000wJHM2AAO","0019000000wJHwqAAG","0019000000wJHy3AAG","0019000000wJHuvAAG","0019000000wJHeUAAW","0019000000wJHeVAAW","0019000000wJHWsAAO","0019000000wJHkaAAG","0019000000wJHkbAAG","0019000000wJHkcAAG","0019000000wJHZNAA4","0019000000wJGpwAAG","0019000000wJGpxAAG","0019000000wJI4zAAG","0019000000wJGx5AAG","0019000000wJHxFAAW","0019000000wJI2oAAG","0019000000wJI2pAAG","0019000000wJI2qAAG","0019000000wJHqAAAW","0019000000wJHTtAAO","0019000000wJHTvAAO","0019000000wJHclAAG","0019000000wJHvJAAW","0019000000wJHszAAG","0019000000wJHsyAAG","0019000000wJHtrAAG","0019000000wJHpzAAG","0019000000wJHkhAAG","0019000000wJHUfAAO","0019000000wJHWUAA4","0019000000wJHUgAAO","0019000000wJHfVAAW","0019000000wJHWVAA4","0019000000wJHfWAAW","0019000000wJHowAAG","0019000000wJHvnAAG","0019000000wJHy4AAG","0019000000wJHy5AAG","0019000000wJHy6AAG","0019000000wJI20AAG","0019000000wJI21AAG","0019000000wJHHyAAO","0019000000wJHPSAA4","0019000000wJHLgAAO","0019000000wJGDmAAO","0019000000wJH4VAAW","0019000000wJHSvAAO","0019000000wJHPTAA4","0019000000wJHTeAAO","0019000000wJHUrAAO","0019000000wJHPUAA4","0019000000wJHLhAAO","0019000000wJHZIAA4","0019000000wJHa1AAG","0019000000wJHbTAAW","0019000000wJHPVAA4","0019000000wJHUsAAO","0019000000wJHdUAAW","0019000000wJHa2AAG","0019000000wJHa3AAG","0019000000wJHa4AAG","0019000000wJH4WAAW","0019000000wJHfQAAW","0019000000wJHZJAA4","0019000000wJHgYAAW","0019000000wJHgZAAW","0019000000wJHfRAAW","0019000000wJHa5AAG","0019000000wJHBNAA4","0019000000wJHjSAAW","0019000000wJHPWAA4","0019000000wJHfSAAW","0019000000wJH4XAAW","0019000000wJHZKAA4","0019000000wJHorAAG","0019000000wJHdVAAW","0019000000wJHdWAAW","0019000000wJHq0AAG","0019000000wJHojAAG","0019000000wJHTwAAO","0019000000wJGeBAAW","0019000000wJGeCAAW","0019000000wJHDDAA4","0019000000wJHDEAA4","0019000000wJHxUAAW","0019000000wJHxVAAW","0019000000wJGnvAAG","0019000000wJHyDAAW","0019000000wJHz1AAG","0019000000wJHzfAAG","0019000000wJI1HAAW","0019000000wJHqBAAW","0019000000wJI1IAAW","0019000000wJGzfAAG","0019000000wJI1JAAW","0019000000wJI7AAAW","0019000000wJHyXAAW","0019000000wJHEBAA4","0019000000wJHECAA4","0019000000wJHOAAA4","0019000000wJHUcAAO","0019000000wJHUdAAO","0019000000wJHWTAA4","0019000000wJHUeAAO","0019000000wJHEDAA4","0019000000wJHEEAA4","0019000000wJHNCAA4","0019000000wJHNDAA4","0019000000wJHNEAA4","0019000000wJHaBAAW","0019000000wJHNFAA4","0019000000wJHNGAA4","0019000000wJHOKAA4","0019000000wJHXMAA4","0019000000wJHXNAA4","0019000000wJGpSAAW","0019000000wJHJVAA4","0019000000wJHJWAA4","0019000000wJGpTAAW","0019000000wJHQfAAO","0019000000wJHQgAAO","0019000000wJHQhAAO","0019000000wJHFAAA4","0019000000wJHFBAA4","0019000000wJHR9AAO","0019000000wJHFCAA4","0019000000wJHdyAAG","0019000000wJHhWAAW","0019000000wJGIXAA4","0019000000wJHUIAA4","0019000000wJGIYAA4","0019000000wJGIZAA4","0019000000wJGIaAAO","0019000000wJHfkAAG","0019000000wJHgAAAW","0019000000wJHhXAAW","0019000000wJHlYAAW","0019000000wJHhYAAW","0019000000wJHhZAAW","0019000000wJHBOAA4","0019000000wJHokAAG","0019000000wJHRxAAO","0019000000wJHRyAAO","0019000000wJHRzAAO","0019000000wJHS0AAO","0019000000wJHMnAAO","0019000000wJHMoAAO","0019000000wJHMpAAO","0019000000wJHffAAG","0019000000wJHMqAAO","0019000000wJHqYAAW","0019000000wJHqnAAG","0019000000wJHgdAAG","0019000000wJHgeAAG","0019000000wJHgfAAG","0019000000wJHldAAG","0019000000wJHUwAAO","0019000000wJH9QAAW","0019000000wJHfzAAG","0019000000wJHiPAAW","0019000000wJHz6AAG","0019000000wJHz7AAG","0019000000wJHcCAAW","0019000000wJHf1AAG","0019000000wJHf2AAG","0019000000wJH1OAAW","0019000000wJHuGAAW","0019000000wJHuHAAW","0019000000wJHxjAAG","0019000000wJHSRAA4","0019000000wJHWnAAO","0019000000wJHewAAG","0019000000wJHSSAA4","0019000000wJHSTAA4","0019000000wJHW4AAO","0019000000wJHW5AAO","0019000000wJHW6AAO","0019000000wJHW7AAO","0019000000wJHW8AAO","0019000000wJHGgAAO","0019000000wJHFEAA4","0019000000wJHdAAAW","0019000000wJHdBAAW","0019000000wJHu1AAG","0019000000wJHu2AAG","0019000000wJHu3AAG","0019000000wJHvsAAG","0019000000wJHv4AAG","0019000000wJHv5AAG","0019000000wJI3DAAW","0019000000wJHs0AAG","0019000000wJHtDAAW","0019000000wJHkeAAG","0019000000wJI3EAAW","0019000000wJI6MAAW","0019000000wJHyhAAG","0019000000wJI2KAAW","0019000000wJHDFAA4","0019000000wJHDGAA4","0019000000wJI4pAAG","0019000000wJI4qAAG","0019000000wJHipAAG","0019000000wJHdHAAW","0019000000wJHjNAAW","0019000000wJHcxAAG","0019000000wJHjwAAG","0019000000wJHkVAAW","0019000000wJHkuAAG","0019000000wJHmgAAG","0019000000wJHiVAAW","0019000000wJHqJAAW","0019000000wJHqiAAG","0019000000wJHr7AAG","0019000000wJHrWAAW","0019000000wJHs5AAG","0019000000wJHrmAAG","0019000000wJH9RAAW","0019000000wJHrnAAG","0019000000wJH9SAAW","0019000000wJHufAAG","0019000000wJHvEAAW","0019000000wJH9TAAW","0019000000wJHwWAAW","0019000000wJHxKAAW","0019000000wJHxoAAG","0019000000wJHvuAAG","0019000000wJHvvAAG","0019000000wJI2PAAW","0019000000wJI2yAAG","0019000000wJI2zAAG","0019000000wJI59AAG","0019000000wJHSxAAO","0019000000wJHHUAA4","0019000000wJHv6AAG","0019000000wJHxkAAG","0019000000wJI0JAAW","0019000000wJHSwAAO","0019000000wJI2AAAW","0019000000wJI0KAAW","0019000000wJHv7AAG","0019000000wJI33AAG","0019000000wJI34AAG","0019000000wJHsFAAW","0019000000wJHMrAAO","0019000000wJHdCAAW","0019000000wJHgBAAW","0019000000wJHqZAAW","0019000000wJHu4AAG","0019000000wJHu5AAG","0019000000wJI6gAAG","0019000000wJHvwAAG","0019000000wJHTfAAO","0019000000wJHTgAAO","0019000000wJHrlAAG","0019000000wJHNqAAO","0019000000wJHOtAAO","0019000000wJHP8AAO","0019000000wJHINAA4","0019000000wJHT5AAO","0019000000wJHUDAA4","0019000000wJHUEAA4","0019000000wJHVVAA4","0019000000wJHIOAA4","0019000000wJHIPAA4","0019000000wJHYAAA4","0019000000wJHYoAAO","0019000000wJHUFAA4","0019000000wJHT6AAO","0019000000wJHOuAAO","0019000000wJHcRAAW","0019000000wJHcvAAG","0019000000wJHdFAAW","0019000000wJHcwAAG","0019000000wJHUGAA4","0019000000wJHT7AAO","0019000000wJHUHAA4","0019000000wJHiUAAW","0019000000wJHdGAAW","0019000000wJHioAAG","0019000000wJHSUAA4","0019000000wJHqaAAG","0019000000wJHSVAA4","0019000000wJHqbAAG","0019000000wJHxLAAW","0019000000wJI6rAAG","0019000000wJI6qAAG","0019000000wJHYBAA4","0019000000wJHqjAAG","0019000000wJHIQAA4","0019000000wJHycAAG","0019000000wJHywAAG","0019000000wJHdDAAW","0019000000wJHsGAAW","0019000000wJHMBAA4","0019000000wJHsHAAW","0019000000wJHQiAAO","0019000000wJHQjAAO","0019000000wJI5EAAW","0019000000wJHgCAAW","0019000000wJGKYAA4","0019000000wJI5FAAW","0019000000wJHvFAAW","0019000000wJHyxAAG","0019000000wJI9GAAW","0019000000wJHxpAAG","0019000000wJI8wAAG","0019000000wJHvYAAW","0019000000wJHwlAAG","0019000000wJHlZAAW","0019000000wJHlaAAG","0019000000wJHqKAAW","0019000000wJHdIAAW","0019000000wJI5dAAG","0019000000wJI2lAAG","0019000000wJHiWAAW","0019000000wJI7KAAW","0019000000wJHiXAAW","0019000000wJHzWAAW","0019000000wJHr8AAG","0019000000wJHJuAAO","0019000000wJHp7AAG","0019000000wJHJvAAO","0019000000wJHqkAAG","0019000000wJHzVAAW","0019000000wJI0xAAG","0019000000wJI2ZAAW","0019000000wJHYCAA4","0019000000wJI4uAAG","0019000000wJI5iAAG","0019000000wJI2jAAG","0019000000wJI2kAAG"};
		for(String id: ids){
			api.deleteSObject("Account", id);
		}
	}*/
	
	@Test
	public void testDescribeGlobal() {
		DescribeGlobal dg = api.describeGlobal();
        assertEquals(200, dg.getMaxBatchSize());
        assertEquals("UTF-8", dg.getEncoding());
		assertNotNull(dg.getSObjects().get(0));
	}


	@Test
	public void testDescribeSObject() {
		DescribeSObject ds = api.describeSObject("Contact");
		assertEquals("Contact", ds.getName());
		assertNotNull(ds.getAllFields());
		assertNotNull(ds.getAllFields().iterator().next().getSoapType());
	}

    @Test
    public void testDiscoverSObject() throws Exception {
        DiscoverSObject<Contact> ds = api.discoverSObject("Contact", Contact.class);
        assertEquals("Contact", ds.getObjectDescribe().getName());
        assertNotNull(ds.getRecentItems());
        assertTrue(ds.getRecentItems().iterator().next().getId().startsWith("003"));
    }
}
